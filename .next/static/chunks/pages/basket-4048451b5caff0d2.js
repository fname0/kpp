(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[701],{16:function(t,e,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/basket",function(){return s(7097)}])},4466:function(t,e,s){"use strict";s.r(e),e.default={src:"/_next/static/media/1.3da6ca55.png",height:1080,width:1920,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAIAAAD38zoCAAAAiElEQVR42gF9AIL/AJ+orod7dH1pWnhvZGJYTUE6Mzw1MBscGACAh4xsZ2WNZ0iIaE1YT0ZeUkZKQTcjJiUAgoeEi46OuJ2MzaJ9lXlmlYh/koqCop6bAHV6c5OXkIqNjpuUkbOlnKaVjdO4rbiwqQB3enGUmI6Kg36TiYWjm5ejl5C/in+tn5zWSDqaeKZmBwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:5}},4831:function(t,e,s){"use strict";s.r(e),e.default={src:"/_next/static/media/2.575a7ad9.png",height:3468,width:4624,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAIAAABxZ0isAAAAmElEQVR42gXAQA6CIJ7SrU6durTVuVe0tZZOzQ7qCElQAxGpMLTMmmt9tQGVYy2IkclDEVPiukBVGrB4D7RI2wsbGvl9ql6ztkpqfmTIBRU7dVrEof++i77mjSQp9GhogWtBbgWdzhat4r9G8yQYjSeRtwZlhmSOd1vrY4wR1LXt+XJFIwvg0KPwMLw6debQ2uQQ+c4ug84fAHpFK9Mkp/sAAAAASUVORK5CYII=",blurWidth:8,blurHeight:6}},2638:function(t,e,s){"use strict";s.r(e),e.default={src:"/_next/static/media/3.40eaacd4.png",height:568,width:854,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAIAAAD38zoCAAAAfklEQVR42mP4/+/vv////7+++P1YSefU45duvgXy/v77xwAS/fbq/0GG33sY3IoPyOcce/vuK1CMAYg/vbhzblXuhc0TLnW1XE+1/3znBlTix89fSzftWjF1yscchs9TEv/9+AaS+PcPZNjXb9/unTv5+fDmX58/Arn//v0FAP0tY2ulKrFFAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:5}},7097:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return l}});var i=s(5893),a=s(5885),n=s(1664),r=s.n(n),c=s(7294),u=s(6154),d=function(t){let[e,a]=(0,c.useState)(t.count),n=t.cookie,r=e=>{let s=void 0===n.get("productsCount")?{}:n.get("productsCount");s[t.id]=e,n.set("productsCount",s),t.change()};return(0,i.jsxs)("div",{className:"basketCard",children:[(0,i.jsx)("img",{src:(()=>{try{return s(3136)("./"+t.id+".png"),"/productImg/"+t.id+".png"}catch(t){return"/imgs/noImg.svg"}})(),alt:"",className:"basketCardImg"}),(0,i.jsx)("p",{className:"basketCardTitle",children:t.title}),(0,i.jsx)("p",{className:"basketCardNum",children:t.num}),(0,i.jsxs)("p",{className:"basketCardTitle",children:[t.price,"₽",1===parseInt(e)?null:"("+t.price*e+")"]}),(0,i.jsx)("div",{className:"basketCountInputCont",children:(0,i.jsx)("input",{type:"text",className:"basketCountInput",value:e,onChange:t=>{a(t.target.value),r(t.target.value)}})}),(0,i.jsx)("img",{src:"/imgs/trash.svg",alt:"",className:"basketCardDelete",onClick:()=>t.delete(t.id)})]})};class o extends c.Component{componentDidMount(){u.Z.get("http://95.174.102.106:7474/basket.php?ids="+this.props.ids).then(t=>{let e=t.data;this.setState({products:e})})}render(){let t=this.props.cookie,e=void 0===t.get("productsCount")?{}:t.get("productsCount"),s=s=>{this.state.productsPriceSum=0,this.setState(this.state);let i=this.props.ids;i.splice(i.indexOf(s),1),0!=i.length?t.set("basket",i):t.remove("basket");let a=this.state.products;a.splice(a.indexOf(a.find(t=>t.id===s)),1),this.state.products=a,this.setState(this.state),delete e[s],t.set("productsCount",e)},a=()=>{this.state.productsPriceSum=0,this.setState(this.state)};return(0,i.jsxs)("div",{className:"basketCardCont",children:[0!=this.state.products.length?Object.entries(this.state.products).map(n=>(0,i.jsx)(d,{id:n[1].id,num:n[1].num,title:n[1].title,price:n[1].price,cookie:t,delete:s,count:void 0===e[n[1].id]?1:e[n[1].id],change:a},n[1].id)):t.get("basket")?"Секунду, товары грузятся...":"Вы удалили все товары из корзины",this.state.products.forEach(t=>{this.state.productsPriceSum+=parseInt(t.price*(void 0===e[t.id]?1:e[t.id]))}),t.get("basket")?(0,i.jsxs)("p",{className:"basketSumText",children:["Всего: ",this.state.productsPriceSum]}):null,t.get("basket")?(0,i.jsx)("button",{className:"basketBuyBtn",onClick:()=>{t.set("productsPriceSum",this.state.productsPriceSum),window.location="/buy"},children:"Оформить"}):null]})}constructor(...t){super(...t),this.state={products:[],productsPriceSum:0}}}function l(){let[t,e]=(0,c.useState)();return(0,c.useEffect)(()=>{let t=new a.Z;e(t)},[]),(0,i.jsxs)("div",{className:"App",children:[(0,i.jsx)("button",{className:"contactsFloatingBtn",children:(0,i.jsx)(r(),{href:"/",children:(0,i.jsx)("img",{src:"/imgs/home.svg",alt:"",className:"contactsFloatingBtnImg"})})}),(0,i.jsxs)("div",{className:"basketCont",children:[(0,i.jsx)("h1",{className:"homeHeader",children:"Корзина"}),void 0===t?null:t.get("basket")?(0,i.jsx)(o,{ids:t.get("basket"),cookie:t}):(0,i.jsx)("div",{className:"basketCenterTextCont",children:(0,i.jsx)("p",{className:"basketCenterText",children:"Товаров в корзине нет."})})]})]})}},3136:function(t,e,s){var i={"./1.png":4466,"./2.png":4831,"./3.png":2638};function a(t){return s(n(t))}function n(t){if(!s.o(i,t)){var e=Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=n,t.exports=a,a.id=3136}},function(t){t.O(0,[664,728,774,888,179],function(){return t(t.s=16)}),_N_E=t.O()}]);